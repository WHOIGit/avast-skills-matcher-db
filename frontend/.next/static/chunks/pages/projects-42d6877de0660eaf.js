(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[327],{6192:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects",function(){return n(7043)}])},7043:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var r=n(5893),i=n(7294),o=n(5861),c=n(5616),s=n(5582),a=n(1233),l=n(7720),u=n(9417),d=n(6540),h=n(8390),p=n(6508),f=n(5427),j=n(6886),x=n(5137),Z=n(5767),v=n(5163),y=n(8100),m=n(4530);var g=n(4471),P=n(948),k=n(6242),b=n(8445),w=n(4267),S=n(2023),C=n(3946),_=n(6395),T=n(7856),E=n.n(T),O=n(6518),N=n(3221),z=n(7009),A=(0,P.ZP)("ul")((function(e){return{display:"flex",flexWrap:"wrap",listStyle:"none",padding:0,margin:0,"& > li":{padding:e.theme.spacing(.5)}}}));function I(e){var t,n=e.project,i=(0,g.kq)();return(0,r.jsxs)(k.Z,{sx:{height:380},children:[(0,r.jsx)(b.Z,{action:(0,r.jsx)(C.Z,{component:h.Z,to:{pathname:"/projects/".concat(n.id)},children:(0,r.jsx)(_.Z,{})}),title:(0,r.jsx)(h.C,{href:"/projects/".concat(n.id),underline:"hover",sx:{fontSize:"1.4rem"},children:n.title}),subheader:"Project owner: ".concat(n.projectOwnerDisplay)}),(0,r.jsxs)(w.Z,{sx:{pt:0},children:[(0,r.jsx)(A,{children:null===(t=n.skills)||void 0===t?void 0:t.map((function(e){return(0,r.jsx)("li",{children:(0,r.jsx)(O.Z,{skillId:e,size:"small"},e)},e)}))}),(0,r.jsx)(o.Z,{variant:"body2",color:"text.secondary",sx:{mt:2},children:(0,r.jsx)(E(),{line:4,element:"span",truncateText:"...",text:n.description})})]}),(0,r.jsx)(S.Z,{disableSpacing:!0,children:i?(0,r.jsx)(z.Z,{project:n,buttonType:"icon"}):(0,r.jsx)(N.Z,{item:n})})]})}function M(){var e=Z.Z.useContainer(),t=x.Z.useContainer(),n=(0,v.Z)(),s=n.projects,a=(n.isLoading,n.isError,function(e){var t;e&&(t=new URLSearchParams({q:e}));var n=(0,y.ZP)(t?"".concat(m.Sg,"/api/projects/?").concat(t):null,m._i),r=n.data,i=n.error;return{results:r,isLoading:!r&&!i,isError:i}}(e.searchTerms).results),l=(0,f.Z)(i.useState(s),2),u=l[0],d=l[1];return i.useEffect((function(){var e;if(e=a||s)if(t.selectedSkills.length){var n=t.selectedSkills.map((function(e){return e.id})),r=e.filter((function(e){return t.filterInclusive?n.some((function(t){return e.skills.includes(t)})):n.every((function(t){return e.skills.includes(t)}))}));d(r)}else d(e)}),[s,a,t.filterInclusive,t.selectedSkills]),u&&(null===u||void 0===u?void 0:u.length)?(0,r.jsx)(j.ZP,{container:!0,spacing:2,children:u.map((function(e){return(0,r.jsx)(j.ZP,{item:!0,xs:4,children:(0,r.jsx)(I,{project:e})},e.id)}))}):(0,r.jsx)(c.Z,{children:(0,r.jsx)(o.Z,{component:"p",gutterBottom:!0,sx:{mb:2},children:"No Projects found."})})}function R(){var e,t,n=(0,p.Z)().profile;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{sx:{bgcolor:"background.paper",pt:3,pb:3},children:(0,r.jsxs)(s.Z,{maxWidth:"md",children:[(0,r.jsx)(o.Z,{component:"h1",variant:"h4",align:"center",color:"text.primary",gutterBottom:!0,children:"Welcome to the AVAST Skills Matcher DB"}),(0,r.jsxs)(a.Z,{sx:{mt:3},direction:"row",spacing:6,justifyContent:"center",divider:(0,r.jsx)(l.Z,{orientation:"vertical",flexItem:!0}),children:[!(null===n||void 0===n||null===(e=n.userType)||void 0===e?void 0:e.includes("EXPERT"))&&(0,r.jsxs)(c.Z,{sx:{textAlign:"center"},children:[(0,r.jsx)(o.Z,{variant:"body1",align:"center",color:"text.secondary",paragraph:!0,children:'Want to offer your assistance on a Project? Create a "SME Profile" to highlight your skills, and then send a messasge to the Project Owner.'}),(0,r.jsx)(u.Z,{variant:"contained",startIcon:(0,r.jsx)(d.Z,{}),component:h.Z,to:{pathname:"/profile/me"},children:"Create SME Profile"})," "]}),!(null===n||void 0===n||null===(t=n.userType)||void 0===t?void 0:t.includes("PROJECT_OWNER"))&&(0,r.jsxs)(c.Z,{sx:{textAlign:"center"},children:[(0,r.jsx)(o.Z,{variant:"body1",align:"center",color:"text.secondary",paragraph:!0,children:'Have a project you need assistance with? Create a "Project" in your accoutn and it will be listed in the Project database for WHOI SMEs to discover.'}),(0,r.jsx)(u.Z,{variant:"outlined",startIcon:(0,r.jsx)(d.Z,{}),component:h.Z,to:{pathname:"/profile/me"},children:"Create Project"})]})]})]})}),(0,r.jsx)(c.Z,{sx:{my:2},children:(0,r.jsxs)(o.Z,{variant:"body1",color:"text.secondary",paragraph:!0,children:["The following ",(0,r.jsx)("strong",{children:"Projects"})," are looking for assistance:"]})}),(0,r.jsx)(c.Z,{sx:{my:4},children:(0,r.jsx)(M,{})})]})}},7009:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(5427),i=(n(9815),n(5893)),o=n(7294),c=n(9417),s=n(4034),a=n(657),l=n(1425),u=n(6580),d=n(8951),h=n(7645),p=n(6307),f=n(1292),j=n(3946),x=n(8037),Z=n(5163);function v(e){var t=e.project,n=e.buttonType,v=void 0===n?"standard":n,y=(0,Z.Z)().contactProjectOwner,m=o.useRef(),g=(0,r.Z)(o.useState(!1),2),P=g[0],k=g[1],b=(0,r.Z)(o.useState([0]),2),w=(b[0],b[1],(0,r.Z)(o.useState(!1),2)),S=w[0],C=w[1],_=function(){k(!0)},T=function(){C(!1),k(!1)};return(0,i.jsxs)("div",{children:["standard"===v&&(0,i.jsx)(c.Z,{sx:{my:2},variant:"contained",onClick:_,size:"small",startIcon:(0,i.jsx)(p.Z,{}),children:"Contact Project Owner"}),"icon"===v&&(0,i.jsx)(f.Z,{title:"Contact Project Owner",children:(0,i.jsx)(j.Z,{"aria-label":"contact Project Owner",color:"default",onClick:_,children:(0,i.jsx)(p.Z,{})})}),(0,i.jsxs)(a.Z,{open:P,onClose:T,children:[(0,i.jsxs)(h.Z,{children:["Contact Project Owner of ",t.title]}),(0,i.jsx)(u.Z,{children:S?(0,i.jsxs)("div",{children:[(0,i.jsx)(x.Z,{color:"success",sx:{fontSize:80}}),(0,i.jsx)(d.Z,{children:"Message sent!"})]}):(0,i.jsxs)("div",{children:[(0,i.jsx)(d.Z,{children:"To contact the owner of this Project, enter an optional message and click \u201cSend Request\u201d. We will send them your Profile and contact details and notify you if they\u2019re interested in your help."}),(0,i.jsx)(s.Z,{fullWidth:!0,multiline:!0,rows:6,label:"Message",variant:"outlined",inputRef:m})]})}),!S&&(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(c.Z,{onClick:T,children:"Cancel"}),(0,i.jsx)(c.Z,{onClick:function(){y(t.id,m.current.value),C(!0),setTimeout(T,2e3)},children:"Send Request"})]})]})]})}},6518:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(5893),i=(n(7294),n(7918)),o=n(5137);function c(e){var t=e.skillId,n=e.size,c=void 0===n?"medium":n,s=o.Z.useContainer(),a=function(e){function t(e,n){if(e.id===n)return e;if(e.children){var r=!0,i=!1,o=void 0;try{for(var c,s=e.children[Symbol.iterator]();!(r=(c=s.next()).done);r=!0){var a=t(c.value,n);if(a)return a}}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}return null}var n=null;if(s.skills){var r=!0,i=!1,o=void 0;try{for(var c,a=s.skills[Symbol.iterator]();!(r=(c=a.next()).done);r=!0){if(n=t(c.value,e))break}}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}}return n}(t);return s.skills?(0,r.jsx)(i.Z,{label:null===a||void 0===a?void 0:a.name,size:c}):null}},3221:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(5427),i=n(5893),o=n(7294),c=n(9417),s=n(657),a=n(1425),l=n(6580),u=n(8951),d=n(7645),h=n(6307),p=n(8390),f=n(3946),j=n(5616);function x(e){var t,n=e.item,x=(0,r.Z)(o.useState(!1),2),Z=x[0],v=x[1];t=void 0!==n.lastName?"".concat(n.firstName," ").concat(n.lastName):n.title;var y=function(){v(!1)};return(0,i.jsxs)("div",{children:[(0,i.jsx)(f.Z,{"aria-label":"contact SME",color:"default",onClick:function(){v(!0)},children:(0,i.jsx)(h.Z,{})}),(0,i.jsxs)(s.Z,{open:Z,onClose:y,children:[(0,i.jsxs)(d.Z,{children:["Contact ",t]}),(0,i.jsx)(l.Z,{children:(0,i.jsxs)(u.Z,{children:["To contact this SME or Project Owner, please login to your account first.",(0,i.jsx)(j.Z,{sx:{textAlign:"center",mt:2},children:(0,i.jsx)(c.Z,{color:"primary",variant:"contained",component:p.Z,to:{pathname:"/login"},children:"Login"})})]})}),(0,i.jsx)(a.Z,{children:(0,i.jsx)(c.Z,{onClick:y,children:"Cancel"})})]})]})}},5163:function(e,t,n){"use strict";var r=n(7568),i=n(7582),o=n(8100),c=n(4471),s=n(314),a=n(4530),l=n(6508);t.Z=function(e){var t=(0,c.Fp)(),n=t.instance,u=(t.inProgress,(0,l.Z)().mutateProfile),d=(0,o.ZP)("".concat(a.Sg,"/api/projects/"),a._i),h=d.data,p=d.mutate,f=d.error,j=(0,o.ZP)(e?"".concat(a.Sg,"/api/projects/").concat(e,"/"):null,a._i),x=j.data,Z=(j.error,function(){var e=(0,r.Z)((function(e){var t,r,o,c,l,d,h,p;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t=(0,a.bf)("/api/projects/"),r={title:e.title,description:e.description,skills:e.skills},c=[t],l={method:"POST",body:JSON.stringify(r)},d={},p=(h="Bearer ").concat,[4,(0,s.a)(n)];case 1:return[4,fetch.apply(void 0,c.concat((l.headers=(d.Authorization=p.apply(h,[i.sent()]),d["Content-Type"]="application/json",d),l)))];case 2:return(o=i.sent()).ok&&u(),[2,o]}}))}));return function(t){return e.apply(this,arguments)}}()),v=function(){var e=(0,r.Z)((function(e,t){var r,o,c,l,d,h,f,j;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return r=(0,a.bf)("/api/projects/".concat(e,"/")),o={title:t.title,description:t.description,skills:t.skills},l=[r],d={method:"PATCH",body:JSON.stringify(o)},h={},j=(f="Bearer ").concat,[4,(0,s.a)(n)];case 1:return[4,fetch.apply(void 0,l.concat((d.headers=(h.Authorization=j.apply(f,[i.sent()]),h["Content-Type"]="application/json",h),d)))];case 2:return(c=i.sent()).ok&&(p(),u()),[2,c]}}))}));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=(0,r.Z)((function(e){var t,r,o,c,l,d,h;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t=(0,a.bf)("/api/projects/".concat(e,"/")),o=[t],c={method:"DELETE"},l={},h=(d="Bearer ").concat,[4,(0,s.a)(n)];case 1:return[4,fetch.apply(void 0,o.concat((c.headers=(l.Authorization=h.apply(d,[i.sent()]),l["Content-Type"]="application/json",l),c)))];case 2:return(r=i.sent()).ok&&u(),[2,r]}}))}));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)((function(e,t){var r,o,c,l,u,d,h;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return r={projectId:e,message:t},o=(0,a.bf)("/api/users/contact_project_owner/"),c=[o],l={method:"POST",body:JSON.stringify(r)},u={},h=(d="Bearer ").concat,[4,(0,s.a)(n)];case 1:return[4,fetch.apply(void 0,c.concat((l.headers=(u.Authorization=h.apply(d,[i.sent()]),u["Content-Type"]="application/json",u),l)))];case 2:return[2,i.sent()]}}))}));return function(t,n){return e.apply(this,arguments)}}();return{projects:h,project:x,createProject:Z,editProject:v,deleteProject:y,isLoading:!h&&!f,isError:f,contactProjectOwner:m}}}},function(e){e.O(0,[34,886,645,399,774,888,179],(function(){return t=6192,e(e.s=t);var t}));var t=e.O();_N_E=t}]);