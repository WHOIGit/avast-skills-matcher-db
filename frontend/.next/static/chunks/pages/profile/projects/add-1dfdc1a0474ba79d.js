(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[638],{7393:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/projects/add",function(){return r(5381)}])},5381:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return x}});var t=r(7568),i=r(7582),a=r(5893),o=r(7294),c=r(7536),s=r(1163),l=r(9417),u=r(4034),d=r(6886),p=r(5616),f=r(5861),h=r(5163),j=r(8236),m=r(6932);function x(){var e=(0,s.useRouter)(),n=(0,h.Z)().createProject,r=(0,c.cI)(),x=r.handleSubmit,v=r.control,Z=r.formState.errors,g=(0,o.useState)(""),y=g[0],b=g[1],_=function(){var r=(0,t.Z)((function(r){var t;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n(r)];case 1:return i.sent().ok?(b(""),e.push("/profile/me?tabId=1")):b("API connection error. Please try again later."),[3,3];case 2:return t=i.sent(),console.error(t),b(t.message),[3,3];case 3:return[2]}}))}));return function(e){return r.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Z,{}),(0,a.jsxs)(p.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,a.jsx)(f.Z,{component:"h1",variant:"h5",children:"Add Project"}),(0,a.jsxs)(p.Z,{component:"form",noValidate:!0,onSubmit:x(_),sx:{mt:3,width:600},children:[(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsxs)(d.ZP,{item:!0,xs:12,children:[(0,a.jsx)(c.Qr,{name:"title",defaultValue:"",control:v,rules:{required:!0},render:function(e){var n=e.field,r=n.onChange,t=n.value;return(0,a.jsx)(u.Z,{fullWidth:!0,label:"Project Title",onChange:r,value:t})}}),(0,a.jsx)(p.Z,{sx:{color:"error.main"},children:Z.title&&"Title is required"})]}),(0,a.jsxs)(d.ZP,{item:!0,xs:12,children:[(0,a.jsx)(c.Qr,{name:"description",defaultValue:"",control:v,rules:{required:!0},render:function(e){var n=e.field,r=n.onChange,t=n.value;return(0,a.jsx)(u.Z,{fullWidth:!0,multiline:!0,rows:8,onChange:r,value:t,label:"Describe your project",variant:"outlined"})}}),(0,a.jsx)(p.Z,{sx:{color:"error.main"},children:Z.description&&"Field is required"})]}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsx)(j.Z,{control:v})})]}),(0,a.jsx)(l.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Save Project"}),(0,a.jsx)(p.Z,{sx:{color:"error.main"},children:y})]})]})]})}},6932:function(e,n,r){"use strict";r.d(n,{Z:function(){return c}});var t=r(5893),i=(r(7294),r(5616)),a=r(8032),o=r(1023);function c(){return(0,t.jsx)(i.Z,{sx:{"& > :not(style)":{m:1}},children:(0,t.jsx)(a.Z,{color:"primary","aria-label":"back",size:"medium",onClick:function(){history.back()},children:(0,t.jsx)(o.Z,{})})})}},8236:function(e,n,r){"use strict";r.d(n,{Z:function(){return f}});var t=r(9815),i=r(5893),a=(r(7294),r(7536)),o=r(5616),c=r(480),s=r(9368),l=r(4054),u=r(476),d=r(3457),p=r(5137);function f(e){var n=e.control,r=p.Z.useContainer(),f=function(e,n){var r=!1;return e.children.length&&(r=!0),n.value?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,{label:e.name,control:(0,i.jsx)(s.Z,{value:e.id,checked:n.value.includes(e.id),onChange:function(e,r){r?n.onChange((0,t.Z)(n.value).concat([parseInt(e.target.value)])):n.onChange(n.value.filter((function(n){return n!==parseInt(e.target.value)})))}})},e.id),(0,i.jsx)(o.Z,{sx:{display:"flex",flexDirection:"column",ml:3},children:r&&e.children.map((function(e){return f(e,n)}))})]}):null};return(0,i.jsxs)(l.Z,{component:"fieldset",variant:"standard",children:[(0,i.jsx)(u.Z,{component:"legend",children:"Skills"}),(0,i.jsx)(d.Z,{children:(0,i.jsx)(a.Qr,{name:"skills",defaultValue:[],control:n,render:function(e){var n=e.field;return(0,i.jsx)(i.Fragment,{children:r.skills&&r.skills.map((function(e){return f(e,n)}))})}})})]})}},5163:function(e,n,r){"use strict";var t=r(7568),i=r(7582),a=r(8100),o=r(4471),c=r(314),s=r(4530),l=r(6508);n.Z=function(e){var n=(0,o.Fp)(),r=n.instance,u=(n.inProgress,(0,l.Z)().mutateProfile),d=(0,a.ZP)("".concat(s.Sg,"/api/projects/"),s._i),p=d.data,f=d.mutate,h=d.error,j=(0,a.ZP)(e?"".concat(s.Sg,"/api/projects/").concat(e,"/"):null,s._i),m=j.data,x=(j.error,function(){var e=(0,t.Z)((function(e){var n,t,a,o,l,d,p,f;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=(0,s.bf)("/api/projects/"),t={title:e.title,description:e.description,skills:e.skills},o=[n],l={method:"POST",body:JSON.stringify(t)},d={},f=(p="Bearer ").concat,[4,(0,c.a)(r)];case 1:return[4,fetch.apply(void 0,o.concat((l.headers=(d.Authorization=f.apply(p,[i.sent()]),d["Content-Type"]="application/json",d),l)))];case 2:return(a=i.sent()).ok&&u(),[2,a]}}))}));return function(n){return e.apply(this,arguments)}}()),v=function(){var e=(0,t.Z)((function(e,n){var t,a,o,l,d,p,h,j;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t=(0,s.bf)("/api/projects/".concat(e,"/")),a={title:n.title,description:n.description,skills:n.skills},l=[t],d={method:"PATCH",body:JSON.stringify(a)},p={},j=(h="Bearer ").concat,[4,(0,c.a)(r)];case 1:return[4,fetch.apply(void 0,l.concat((d.headers=(p.Authorization=j.apply(h,[i.sent()]),p["Content-Type"]="application/json",p),d)))];case 2:return(o=i.sent()).ok&&(f(),u()),[2,o]}}))}));return function(n,r){return e.apply(this,arguments)}}(),Z=function(){var e=(0,t.Z)((function(e){var n,t,a,o,l,d,p;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=(0,s.bf)("/api/projects/".concat(e,"/")),a=[n],o={method:"DELETE"},l={},p=(d="Bearer ").concat,[4,(0,c.a)(r)];case 1:return[4,fetch.apply(void 0,a.concat((o.headers=(l.Authorization=p.apply(d,[i.sent()]),l["Content-Type"]="application/json",l),o)))];case 2:return(t=i.sent()).ok&&u(),[2,t]}}))}));return function(n){return e.apply(this,arguments)}}(),g=function(){var e=(0,t.Z)((function(e,n){var t,a,o,l,u,d,p;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t={projectId:e,message:n},a=(0,s.bf)("/api/users/contact_project_owner/"),o=[a],l={method:"POST",body:JSON.stringify(t)},u={},p=(d="Bearer ").concat,[4,(0,c.a)(r)];case 1:return[4,fetch.apply(void 0,o.concat((l.headers=(u.Authorization=p.apply(d,[i.sent()]),u["Content-Type"]="application/json",u),l)))];case 2:return[2,i.sent()]}}))}));return function(n,r){return e.apply(this,arguments)}}();return{projects:p,project:m,createProject:x,editProject:v,deleteProject:Z,isLoading:!p&&!h,isError:h,contactProjectOwner:g}}}},function(e){e.O(0,[34,886,98,774,888,179],(function(){return n=7393,e(e.s=n);var n}));var n=e.O();_N_E=n}]);