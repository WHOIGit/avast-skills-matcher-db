(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[141],{3955:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/projects/edit/[pid]",function(){return t(9745)}])},9745:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return m}});var r=t(7568),i=t(7582),o=t(5893),a=t(7294),c=t(7536),s=t(1163),l=t(9417),u=t(4034),d=t(6886),p=t(5616),f=t(5861),h=t(5163),j=t(6932),v=t(8236);function m(){var e=(0,s.useRouter)(),n=parseInt(e.query.pid),t=(0,h.Z)(n),m=t.project,x=t.editProject,Z=(0,c.cI)(),y=Z.handleSubmit,g=Z.control,b=Z.formState.errors,_=Z.reset,P=(0,a.useState)(""),k=P[0],C=P[1];(0,a.useEffect)((function(){_({title:null===m||void 0===m?void 0:m.title,description:null===m||void 0===m?void 0:m.description,skills:null===m||void 0===m?void 0:m.skills})}),[_,m]);var w=function(){var t=(0,r.Z)((function(t){var r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,x(n,t)];case 1:return i.sent().ok?(C(""),e.push("/profile/me?tabId=1")):C("API connection error. Please try again later."),[3,3];case 2:return r=i.sent(),console.error(r),C(r.message),[3,3];case 3:return[2]}}))}));return function(e){return t.apply(this,arguments)}}();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(j.Z,{}),(0,o.jsxs)(p.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,o.jsx)(f.Z,{component:"h1",variant:"h5",children:"Edit Project"}),(0,o.jsxs)(p.Z,{component:"form",noValidate:!0,onSubmit:y(w),sx:{mt:3,width:600},children:[(0,o.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,o.jsxs)(d.ZP,{item:!0,xs:12,children:[(0,o.jsx)(c.Qr,{name:"title",defaultValue:"",control:g,rules:{required:!0},render:function(e){var n=e.field,t=n.onChange,r=n.value;return(0,o.jsx)(u.Z,{fullWidth:!0,label:"Project Title",onChange:t,value:r})}}),(0,o.jsx)(p.Z,{sx:{color:"error.main"},children:b.title&&"Title is required"})]}),(0,o.jsxs)(d.ZP,{item:!0,xs:12,children:[(0,o.jsx)(c.Qr,{name:"description",defaultValue:"",control:g,rules:{required:!0},render:function(e){var n=e.field,t=n.onChange,r=n.value;return(0,o.jsx)(u.Z,{fullWidth:!0,multiline:!0,rows:8,onChange:t,value:r,label:"Describe your project",variant:"outlined"})}}),(0,o.jsx)(p.Z,{sx:{color:"error.main"},children:b.description&&"Field is required"})]}),(0,o.jsx)(d.ZP,{item:!0,xs:12,children:(0,o.jsx)(v.Z,{control:g})})]}),(0,o.jsx)(l.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Save Project"}),(0,o.jsx)(p.Z,{sx:{color:"error.main"},children:k})]})]})]})}},6932:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(5893),i=(t(7294),t(5616)),o=t(8032),a=t(1023);function c(){return(0,r.jsx)(i.Z,{sx:{"& > :not(style)":{m:1}},children:(0,r.jsx)(o.Z,{color:"primary","aria-label":"back",size:"medium",onClick:function(){history.back()},children:(0,r.jsx)(a.Z,{})})})}},8236:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var r=t(9815),i=t(5893),o=(t(7294),t(7536)),a=t(5616),c=t(480),s=t(9368),l=t(4054),u=t(476),d=t(3457),p=t(5137);function f(e){var n=e.control,t=p.Z.useContainer(),f=function(e,n){var t=!1;return e.children.length&&(t=!0),n.value?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,{label:e.name,control:(0,i.jsx)(s.Z,{value:e.id,checked:n.value.includes(e.id),onChange:function(e,t){t?n.onChange((0,r.Z)(n.value).concat([parseInt(e.target.value)])):n.onChange(n.value.filter((function(n){return n!==parseInt(e.target.value)})))}})},e.id),(0,i.jsx)(a.Z,{sx:{display:"flex",flexDirection:"column",ml:3},children:t&&e.children.map((function(e){return f(e,n)}))})]}):null};return(0,i.jsxs)(l.Z,{component:"fieldset",variant:"standard",children:[(0,i.jsx)(u.Z,{component:"legend",children:"Skills"}),(0,i.jsx)(d.Z,{children:(0,i.jsx)(o.Qr,{name:"skills",defaultValue:[],control:n,render:function(e){var n=e.field;return(0,i.jsx)(i.Fragment,{children:t.skills&&t.skills.map((function(e){return f(e,n)}))})}})})]})}},5163:function(e,n,t){"use strict";var r=t(7568),i=t(7582),o=t(8100),a=t(4471),c=t(314),s=t(4530),l=t(6508);n.Z=function(e){var n=(0,a.Fp)(),t=n.instance,u=(n.inProgress,(0,l.Z)().mutateProfile),d=(0,o.ZP)("".concat(s.Sg,"/api/projects/"),s._i),p=d.data,f=d.mutate,h=d.error,j=(0,o.ZP)(e?"".concat(s.Sg,"/api/projects/").concat(e,"/"):null,s._i),v=j.data,m=(j.error,function(){var e=(0,r.Z)((function(e){var n,r,o,a,l,d,p,f;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=(0,s.bf)("/api/projects/"),r={title:e.title,description:e.description,skills:e.skills},a=[n],l={method:"POST",body:JSON.stringify(r)},d={},f=(p="Bearer ").concat,[4,(0,c.a)(t)];case 1:return[4,fetch.apply(void 0,a.concat((l.headers=(d.Authorization=f.apply(p,[i.sent()]),d["Content-Type"]="application/json",d),l)))];case 2:return(o=i.sent()).ok&&u(),[2,o]}}))}));return function(n){return e.apply(this,arguments)}}()),x=function(){var e=(0,r.Z)((function(e,n){var r,o,a,l,d,p,h,j;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return r=(0,s.bf)("/api/projects/".concat(e,"/")),o={title:n.title,description:n.description,skills:n.skills},l=[r],d={method:"PATCH",body:JSON.stringify(o)},p={},j=(h="Bearer ").concat,[4,(0,c.a)(t)];case 1:return[4,fetch.apply(void 0,l.concat((d.headers=(p.Authorization=j.apply(h,[i.sent()]),p["Content-Type"]="application/json",p),d)))];case 2:return(a=i.sent()).ok&&(f(),u()),[2,a]}}))}));return function(n,t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,r.Z)((function(e){var n,r,o,a,l,d,p;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=(0,s.bf)("/api/projects/".concat(e,"/")),o=[n],a={method:"DELETE"},l={},p=(d="Bearer ").concat,[4,(0,c.a)(t)];case 1:return[4,fetch.apply(void 0,o.concat((a.headers=(l.Authorization=p.apply(d,[i.sent()]),l["Content-Type"]="application/json",l),a)))];case 2:return(r=i.sent()).ok&&u(),[2,r]}}))}));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=(0,r.Z)((function(e,n){var r,o,a,l,u,d,p;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return r={projectId:e,message:n},o=(0,s.bf)("/api/users/contact_project_owner/"),a=[o],l={method:"POST",body:JSON.stringify(r)},u={},p=(d="Bearer ").concat,[4,(0,c.a)(t)];case 1:return[4,fetch.apply(void 0,a.concat((l.headers=(u.Authorization=p.apply(d,[i.sent()]),u["Content-Type"]="application/json",u),l)))];case 2:return[2,i.sent()]}}))}));return function(n,t){return e.apply(this,arguments)}}();return{projects:p,project:v,createProject:m,editProject:x,deleteProject:Z,isLoading:!p&&!h,isError:h,contactProjectOwner:y}}}},function(e){e.O(0,[34,886,98,774,888,179],(function(){return n=3955,e(e.s=n);var n}));var n=e.O();_N_E=n}]);